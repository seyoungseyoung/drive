<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPT Editor - PowerPoint 스타일 프레젠테이션 에디터</title>
    
    <!-- CSS 스타일시트 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reset.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/charts.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/shape-editor.css') }}">
    
    <!-- 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- 아이콘 라이브러리 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- 상단 리본 메뉴 바 -->
        <div class="ribbon-menu">
            <div class="ribbon-tabs">
                <div class="ribbon-tab active" data-tab="home">홈</div>
                <div class="ribbon-tab" data-tab="insert">삽입</div>
                <div class="ribbon-tab" data-tab="design">디자인</div>
                <div class="ribbon-tab" data-tab="animations">애니메이션</div>
                <div class="ribbon-tab" data-tab="view">보기</div>
            </div>
            
            <!-- 리본 콘텐츠 영역 -->
            <div class="ribbon-content active" id="home-ribbon">
                <div class="ribbon-group">
                    <div class="ribbon-title">클립보드</div>
                    <div class="ribbon-buttons">
                        <button id="cutBtn" class="ribbon-button">
                            <i class="fas fa-cut"></i>
                            <span>잘라내기</span>
                        </button>
                        <button id="copyBtn" class="ribbon-button">
                            <i class="fas fa-copy"></i>
                            <span>복사</span>
                        </button>
                        <button id="pasteBtn" class="ribbon-button">
                            <i class="fas fa-paste"></i>
                            <span>붙여넣기</span>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">슬라이드</div>
                    <div class="ribbon-buttons">
                        <button id="newSlideBtn" class="ribbon-button">
                            <i class="fas fa-plus"></i>
                            <span>새 슬라이드</span>
                        </button>
                        <button id="duplicateSlideBtn" class="ribbon-button">
                            <i class="fas fa-copy"></i>
                            <span>슬라이드 복제</span>
                        </button>
                        <button id="deleteSlideBtn" class="ribbon-button">
                            <i class="fas fa-trash"></i>
                            <span>슬라이드 삭제</span>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">글꼴</div>
                    <div class="ribbon-controls">
                        <select id="fontFamilySelect" class="ribbon-select">
                            <option value="Pretendard">Pretendard</option>
                            <option value="Arial">Arial</option>
                            <option value="Helvetica">Helvetica</option>
                            <option value="Times New Roman">Times New Roman</option>
                        </select>
                        <div class="ribbon-number-group">
                            <input type="number" id="fontSizeInput" value="16" min="8" max="96">
                            <div class="ribbon-number-buttons">
                                <button id="increaseFontBtn"><i class="fas fa-chevron-up"></i></button>
                                <button id="decreaseFontBtn"><i class="fas fa-chevron-down"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="ribbon-buttons font-style-buttons">
                        <button id="boldBtn" class="ribbon-button format-btn">
                            <i class="fas fa-bold"></i>
                        </button>
                        <button id="italicBtn" class="ribbon-button format-btn">
                            <i class="fas fa-italic"></i>
                        </button>
                        <button id="underlineBtn" class="ribbon-button format-btn">
                            <i class="fas fa-underline"></i>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">단락</div>
                    <div class="ribbon-buttons">
                        <button id="alignLeftBtn" class="ribbon-button format-btn">
                            <i class="fas fa-align-left"></i>
                        </button>
                        <button id="alignCenterBtn" class="ribbon-button format-btn">
                            <i class="fas fa-align-center"></i>
                        </button>
                        <button id="alignRightBtn" class="ribbon-button format-btn">
                            <i class="fas fa-align-right"></i>
                        </button>
                        <button id="alignJustifyBtn" class="ribbon-button format-btn">
                            <i class="fas fa-align-justify"></i>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">정렬</div>
                    <div class="ribbon-buttons">
                        <button id="bringForwardBtn" class="ribbon-button">
                            <i class="fas fa-bring-forward"></i>
                            <span>앞으로</span>
                        </button>
                        <button id="sendBackwardBtn" class="ribbon-button">
                            <i class="fas fa-send-backward"></i>
                            <span>뒤로</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="insert-ribbon">
                <div class="ribbon-group">
                    <div class="ribbon-title">요소</div>
                    <div class="ribbon-buttons">
                        <button id="addTextBtn" class="ribbon-button">
                            <i class="fas fa-font"></i>
                            <span>텍스트</span>
                        </button>
                        <button id="addShapeBtn" class="ribbon-button">
                            <i class="fas fa-shapes"></i>
                            <span>도형</span>
                        </button>
                        <button id="addImageBtn" class="ribbon-button">
                            <i class="fas fa-image"></i>
                            <span>이미지</span>
                        </button>
                        <button id="addChartBtn" class="ribbon-button">
                            <i class="fas fa-chart-bar"></i>
                            <span>차트</span>
                        </button>
                        <button id="addTableBtn" class="ribbon-button">
                            <i class="fas fa-table"></i>
                            <span>표</span>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">미디어</div>
                    <div class="ribbon-buttons">
                        <button id="addVideoBtn" class="ribbon-button">
                            <i class="fas fa-video"></i>
                            <span>비디오</span>
                        </button>
                        <button id="addAudioBtn" class="ribbon-button">
                            <i class="fas fa-music"></i>
                            <span>오디오</span>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">링크</div>
                    <div class="ribbon-buttons">
                        <button id="addLinkBtn" class="ribbon-button">
                            <i class="fas fa-link"></i>
                            <span>하이퍼링크</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="design-ribbon">
                <div class="ribbon-group">
                    <div class="ribbon-title">테마</div>
                    <div class="ribbon-buttons theme-btns">
                        <button class="theme-btn" data-theme="modern">
                            <div class="theme-preview modern"></div>
                            <span>모던</span>
                        </button>
                        <button class="theme-btn" data-theme="minimal">
                            <div class="theme-preview minimal"></div>
                            <span>미니멀</span>
                        </button>
                        <button class="theme-btn" data-theme="classic">
                            <div class="theme-preview classic"></div>
                            <span>클래식</span>
                        </button>
                        <button class="theme-btn" data-theme="corporate">
                            <div class="theme-preview corporate"></div>
                            <span>기업형</span>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">색상 팔레트</div>
                    <div class="ribbon-buttons color-btns">
                        <button class="color-btn" data-palette="blue">
                            <div class="color-preview blue"></div>
                        </button>
                        <button class="color-btn" data-palette="green">
                            <div class="color-preview green"></div>
                        </button>
                        <button class="color-btn" data-palette="red">
                            <div class="color-preview red"></div>
                        </button>
                        <button class="color-btn" data-palette="purple">
                            <div class="color-preview purple"></div>
                        </button>
                        <button class="color-btn" data-palette="orange">
                            <div class="color-preview orange"></div>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">배경</div>
                    <div class="ribbon-buttons">
                        <button id="bgColorBtn" class="ribbon-button">
                            <i class="fas fa-fill-drip"></i>
                            <span>색상</span>
                        </button>
                        <button id="bgImageBtn" class="ribbon-button">
                            <i class="fas fa-image"></i>
                            <span>이미지</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="animations-ribbon">
                <div class="ribbon-group">
                    <div class="ribbon-title">애니메이션</div>
                    <div class="ribbon-buttons animation-btns">
                        <button class="animation-btn" data-animation="fade">
                            <div class="animation-preview fade"></div>
                            <span>페이드</span>
                        </button>
                        <button class="animation-btn" data-animation="slide">
                            <div class="animation-preview slide"></div>
                            <span>슬라이드</span>
                        </button>
                        <button class="animation-btn" data-animation="zoom">
                            <div class="animation-preview zoom"></div>
                            <span>확대</span>
                        </button>
                        <button class="animation-btn" data-animation="flip">
                            <div class="animation-preview flip"></div>
                            <span>뒤집기</span>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">전환</div>
                    <div class="ribbon-buttons transition-btns">
                        <button class="transition-btn" data-transition="none">
                            <div class="transition-preview none"></div>
                            <span>없음</span>
                        </button>
                        <button class="transition-btn" data-transition="fade">
                            <div class="transition-preview fade"></div>
                            <span>페이드</span>
                        </button>
                        <button class="transition-btn" data-transition="slide">
                            <div class="transition-preview slide"></div>
                            <span>슬라이드</span>
                        </button>
                        <button class="transition-btn" data-transition="push">
                            <div class="transition-preview push"></div>
                            <span>푸시</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="view-ribbon">
                <div class="ribbon-group">
                    <div class="ribbon-title">보기</div>
                    <div class="ribbon-buttons">
                        <button id="normalViewBtn" class="ribbon-button">
                            <i class="fas fa-edit"></i>
                            <span>편집</span>
                        </button>
                        <button id="slideShowBtn" class="ribbon-button">
                            <i class="fas fa-play"></i>
                            <span>슬라이드 쇼</span>
                        </button>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">확대/축소</div>
                    <div class="ribbon-controls">
                        <select id="zoomSelect" class="ribbon-select">
                            <option value="0.5">50%</option>
                            <option value="0.75">75%</option>
                            <option value="1" selected>100%</option>
                            <option value="1.25">125%</option>
                            <option value="1.5">150%</option>
                            <option value="2">200%</option>
                        </select>
                    </div>
                </div>
                
                <div class="ribbon-group">
                    <div class="ribbon-title">AI 확장</div>
                    <div class="ribbon-buttons">
                        <button id="toggleAIBtn" class="ribbon-button">
                            <i class="fas fa-robot"></i>
                            <span>AI 도구</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 메인 작업 영역 -->
        <div class="workspace">
            <!-- 왼쪽 슬라이드 탐색기 -->
            <div class="slide-explorer">
                <div class="slides-header">
                    <h3>슬라이드</h3>
                    <div class="slide-controls">
                        <button id="addSlideBtn" title="슬라이드 추가">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button id="duplicateSlideBtn2" title="슬라이드 복제">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button id="deleteSlideBtn2" title="슬라이드 삭제">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <!-- 슬라이드 목록 -->
                <div id="slideList" class="slide-list"></div>
            </div>
            
            <!-- 중앙 편집 영역 -->
            <div class="editor-area">
                <div class="editor-toolbar">
                    <div class="toolbar-left">
                        <button id="undoBtn" title="실행 취소">
                            <i class="fas fa-undo"></i>
                        </button>
                        <button id="redoBtn" title="다시 실행">
                            <i class="fas fa-redo"></i>
                        </button>
                        <span class="toolbar-separator"></span>
                        <select id="slideLayoutSelect">
                            <option value="blank">빈 슬라이드</option>
                            <option value="title">제목 슬라이드</option>
                            <option value="title-content">제목 및 내용</option>
                            <option value="two-column">두 열 레이아웃</option>
                        </select>
                    </div>
                    <div class="toolbar-right">
                        <button id="exportBtn" title="내보내기">
                            <i class="fas fa-download"></i>
                            <span>내보내기</span>
                        </button>
                    </div>
                </div>
                
                <!-- 슬라이드 편집 영역 -->
                <div class="slide-editor">
                    <div class="slide-canvas-container">
                        <div id="currentSlide" class="slide-canvas"></div>
                    </div>
                </div>
            </div>
            
            <!-- 오른쪽 속성 패널 -->
            <div class="properties-panel">
                <div class="panel-header">
                    <h3>속성</h3>
                    <button id="closePropertiesBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="panel-tabs">
                    <button class="panel-tab active" data-panel="style">스타일</button>
                    <button class="panel-tab" data-panel="text">텍스트</button>
                    <button class="panel-tab" data-panel="arrange">정렬</button>
                    <button class="panel-tab" data-panel="animation">애니메이션</button>
                </div>
                
                <!-- 스타일 패널 -->
                <div class="panel-content active" id="style-panel">
                    <div class="panel-section">
                        <h4>색상 및 채우기</h4>
                        <div class="color-picker-group">
                            <label>배경색</label>
                            <input type="color" id="elementBgColor">
                        </div>
                        <div class="color-picker-group">
                            <label>테두리 색상</label>
                            <input type="color" id="elementBorderColor">
                        </div>
                        <div class="slider-group">
                            <label>투명도 <span id="opacityValue">100%</span></label>
                            <input type="range" id="elementOpacity" min="0" max="100" value="100">
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>테두리</h4>
                        <div class="input-group">
                            <label>두께</label>
                            <input type="number" id="borderWidth" min="0" max="20" value="1">
                        </div>
                        <div class="select-group">
                            <label>스타일</label>
                            <select id="borderStyle">
                                <option value="solid">실선</option>
                                <option value="dashed">파선</option>
                                <option value="dotted">점선</option>
                                <option value="double">이중선</option>
                                <option value="none">없음</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>효과</h4>
                        <div class="select-group">
                            <label>그림자</label>
                            <select id="shadowStyle">
                                <option value="none">없음</option>
                                <option value="light">약함</option>
                                <option value="medium">중간</option>
                                <option value="strong">강함</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- 텍스트 패널 -->
                <div class="panel-content" id="text-panel">
                    <div class="panel-section">
                        <h4>글꼴</h4>
                        <div class="select-group">
                            <label>글꼴</label>
                            <select id="textFontFamily">
                                <option value="Pretendard">Pretendard</option>
                                <option value="Arial">Arial</option>
                                <option value="Helvetica">Helvetica</option>
                                <option value="Times New Roman">Times New Roman</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>크기</label>
                            <input type="number" id="textFontSize" min="8" max="96" value="16">
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>스타일</h4>
                        <div class="button-group">
                            <button id="textBoldBtn" class="format-btn">
                                <i class="fas fa-bold"></i>
                            </button>
                            <button id="textItalicBtn" class="format-btn">
                                <i class="fas fa-italic"></i>
                            </button>
                            <button id="textUnderlineBtn" class="format-btn">
                                <i class="fas fa-underline"></i>
                            </button>
                        </div>
                        <div class="color-picker-group">
                            <label>텍스트 색상</label>
                            <input type="color" id="textColor">
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>정렬</h4>
                        <div class="button-group">
                            <button id="textAlignLeftBtn" class="format-btn">
                                <i class="fas fa-align-left"></i>
                            </button>
                            <button id="textAlignCenterBtn" class="format-btn">
                                <i class="fas fa-align-center"></i>
                            </button>
                            <button id="textAlignRightBtn" class="format-btn">
                                <i class="fas fa-align-right"></i>
                            </button>
                            <button id="textAlignJustifyBtn" class="format-btn">
                                <i class="fas fa-align-justify"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 정렬 패널 -->
                <div class="panel-content" id="arrange-panel">
                    <div class="panel-section">
                        <h4>위치</h4>
                        <div class="position-controls">
                            <div class="input-group">
                                <label>X</label>
                                <input type="number" id="elementX" step="1">
                            </div>
                            <div class="input-group">
                                <label>Y</label>
                                <input type="number" id="elementY" step="1">
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>크기</h4>
                        <div class="size-controls">
                            <div class="input-group">
                                <label>너비</label>
                                <input type="number" id="elementWidth" min="5" step="1">
                            </div>
                            <div class="input-group">
                                <label>높이</label>
                                <input type="number" id="elementHeight" min="5" step="1">
                            </div>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="lockAspectRatio">
                            <label for="lockAspectRatio">비율 고정</label>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>회전</h4>
                        <div class="slider-group">
                            <label>각도 <span id="rotationValue">0°</span></label>
                            <input type="range" id="elementRotation" min="0" max="359" value="0">
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>순서</h4>
                        <div class="button-group">
                            <button id="bringToFrontBtn">맨 앞으로</button>
                            <button id="sendToBackBtn">맨 뒤로</button>
                        </div>
                    </div>
                </div>
                
                <!-- 애니메이션 패널 -->
                <div class="panel-content" id="animation-panel">
                    <div class="panel-section">
                        <h4>애니메이션</h4>
                        <div class="select-group">
                            <label>유형</label>
                            <select id="animationType">
                                <option value="none">없음</option>
                                <option value="fade">페이드</option>
                                <option value="slide">슬라이드</option>
                                <option value="zoom">확대/축소</option>
                                <option value="flip">뒤집기</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>시간</h4>
                        <div class="input-group">
                            <label>지속 시간 (초)</label>
                            <input type="number" id="animationDuration" min="0.1" max="10" step="0.1" value="1">
                        </div>
                        <div class="input-group">
                            <label>지연 시간 (초)</label>
                            <input type="number" id="animationDelay" min="0" max="10" step="0.1" value="0">
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>미리보기</h4>
                        <button id="previewAnimationBtn">재생</button>
                    </div>
                </div>
                
                <!-- AI 확장 패널 -->
                <div class="panel-content" id="ai-panel" style="display: none;">
                    <div class="panel-section">
                        <h4>AI 도구</h4>
                        <div class="button-group">
                            <button id="analyzeBtn">
                                <i class="fas fa-magic"></i>
                                <span>콘텐츠 분석</span>
                            </button>
                            <button id="generateImageBtn">
                                <i class="fas fa-image"></i>
                                <span>이미지 생성</span>
                            </button>
                            <button id="improveDesignBtn">
                                <i class="fas fa-paint-brush"></i>
                                <span>디자인 개선</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h4>AI 제안</h4>
                        <div id="aiSuggestions" class="ai-suggestions"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 상태 표시줄 -->
        <div class="status-bar">
            <div class="status-left">
                <span id="slideInfo">슬라이드 1/1</span>
            </div>
            <div class="status-right">
                <span id="zoomInfo">100%</span>
            </div>
        </div>
    </div>
    
    <!-- 모달 대화상자 -->
    <!-- 도형 선택 모달 -->
    <div id="shapeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>도형 선택</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="shape-category">기본 도형</div>
                <div class="shape-grid">
                    <div class="shape-item" data-shape="rectangle">
                        <div class="shape-preview rectangle"></div>
                        <span>직사각형</span>
                    </div>
                    <div class="shape-item" data-shape="circle">
                        <div class="shape-preview circle"></div>
                        <span>원</span>
                    </div>
                    <div class="shape-item" data-shape="triangle">
                        <div class="shape-preview triangle"></div>
                        <span>삼각형</span>
                    </div>
                    <div class="shape-item" data-shape="pentagon">
                        <div class="shape-preview pentagon"></div>
                        <span>오각형</span>
                    </div>
                    <div class="shape-item" data-shape="hexagon">
                        <div class="shape-preview hexagon"></div>
                        <span>육각형</span>
                    </div>
                    <div class="shape-item" data-shape="star">
                        <div class="shape-preview star"></div>
                        <span>별</span>
                    </div>
                </div>
                
                <div class="shape-category">화살표 및 선</div>
                <div class="shape-grid">
                    <div class="shape-item" data-shape="arrow">
                        <div class="shape-preview arrow"></div>
                        <span>화살표</span>
                    </div>
                    <div class="shape-item" data-shape="arrow-left">
                        <div class="shape-preview arrow-left"></div>
                        <span>왼쪽 화살표</span>
                    </div>
                    <div class="shape-item" data-shape="double-arrow">
                        <div class="shape-preview double-arrow"></div>
                        <span>양방향 화살표</span>
                    </div>
                    <div class="shape-item" data-shape="line">
                        <div class="shape-preview line"></div>
                        <span>선</span>
                    </div>
                    <div class="shape-item" data-shape="dashed-line">
                        <div class="shape-preview dashed-line"></div>
                        <span>점선</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 이미지 업로드 모달 -->
    <div id="imageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>이미지 추가</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="upload-area">
                    <p>이미지 파일을 드래그하거나 클릭하여 업로드하세요</p>
                    <input type="file" id="imageUploadInput" accept="image/*">
                    <button id="uploadImageBtn">파일 선택</button>
                </div>
                <div class="image-preview-container">
                    <img id="imagePreview" src="" alt="">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelImageBtn" class="btn-secondary">취소</button>
                <button id="addImageToSlideBtn" class="btn-primary">슬라이드에 추가</button>
            </div>
        </div>
    </div>
    
    <!-- 내보내기 모달 -->
    <div id="exportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>프레젠테이션 내보내기</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="export-options">
                    <div class="option-group">
                        <label>형식</label>
                        <select id="exportFormat">
                            <option value="pptx">PowerPoint (PPTX)</option>
                            <option value="pdf">PDF</option>
                            <option value="png">이미지 (PNG)</option>
                        </select>
                    </div>
                    <div class="option-group">
                        <label>품질</label>
                        <select id="exportQuality">
                            <option value="high">높음</option>
                            <option value="medium">중간</option>
                            <option value="low">낮음</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelExportBtn" class="btn-secondary">취소</button>
                <button id="confirmExportBtn" class="btn-primary">내보내기</button>
            </div>
        </div>
    </div>
    
    <!-- 디버그 정보 -->
    <div id="debug-info" style="display: none;"></div>
    <button id="show-debug" style="display: none;">Debug</button>
    
    <!-- 스크립트 -->
    <!-- Chart.js 필수 스크립트 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- 모듈 스크립트 -->
    <script type="module">
        // DOM이 로드된 후 앱 초기화
        document.addEventListener('DOMContentLoaded', () => {
            import("{{ url_for('static', filename='js/index.js') }}")
                .then(module => {
                    // 앱 초기화
                    module.initApp();
                    console.log('앱이 성공적으로 초기화되었습니다.');
                })
                .catch(err => {
                    console.error('모듈 로드 오류:', err);
                });
        });
    </script>
</body>
</html>